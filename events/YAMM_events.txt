add_namespace = yamm


# France Heads up
news_event = {
	id = yamm.1
	title = yamm.1.t
	desc = yamm.1.desc
	picture = GFX_news_event_do_not_give_up
	
	fire_only_once = yes
	
	trigger = {
		tag = FRA
	}
	
	option = {
		name = yamm.10.a
	}
	
}

# Canada Valentine tank from UK
country_event = {
	id = yamm.33
	title = yamm.33.t
	desc = yamm.33.desc
	picture = GFX_report_event_tank_factory
	
	is_triggered_only = yes
	
	option = {
		name = yamm.33.a
		create_production_license = {
			target = CAN 
			equipment = {
				type = heavy_tank_equipment_1
			}
			cost_factor = 0
		}
		set_technology = { basic_heavy_tank = 1 }
		create_equipment_variant = {
			name = "Valentine Mk.I LP"
			type = heavy_tank_equipment_1
			parent_version = 0
			upgrades = {
				tank_engine_upgrade = 15
				tank_reliability_upgrade = 3
			}
		}
	}
}


news_event = {
	id = yamm.29
	title = yamm.29.t
	desc = yamm.29.d
	picture = GFX_report_event_vichy_negotiations
	
	is_triggered_only = yes
	
	option = {
		name = yamm.10.a 
	}
}

# Vichy news event about neutrality
news_event = {
	id = yamm.30
	title = yamm.30.t
	desc = yamm.30.desc
	picture = GFX_news_event_vichy_neutral
	
	is_triggered_only = yes
	
	option = {
		name = yamm.10.a 
	}
}

# Heads up for france when capitulated
news_event = {
	id = yamm.31
	title = yamm.31.t
	desc = yamm.31.desc
	picture = GFX_news_event_do_not_give_up
	
	fire_only_once = yes
	
	trigger = {
		tag = FRA
		FRA = { has_capitulated = yes }
	}
	
	mean_time_to_happen = {
		days = 1
	}
	
	option = {
		name = yamm.10.a 
	}
}

# Plan Vert
country_event = {
	id = yamm.32
	title = yamm.32.t
	desc = yamm.32.desc
	picture = GFX_report_event_plan_vert
	
	is_triggered_only = yes
	
	option = {
		name = yamm.32.a
		15 = {
			damage_building = { type = infrastructure damage = 1 }
		}
		
		
		ai_chance = {
			factor = 100
		}
	}
}

#Hitler Rage from fall blau failure
country_event = {
	id = yamm.34
	title = yamm.34.t
	desc = yamm.34.desc
	picture = GFX_report_event_hitler_rage
	
	fire_only_once = yes
	
	trigger = {
		tag = GER
		GER = { has_completed_focus = GER_fall_blau }
		NOT = { has_idea = blitzkrieg_idea }
		NOT = { has_idea = hitler_rage }
		NOT {
			GER = { has_full_control_of_state = 217 }
			GER = { has_full_control_of_state = 231 }
			GER = { has_full_control_of_state = 229 }
			GER = { has_full_control_of_state = 233 }
		}
	}
	
	option = {
		name = yamm.34.a
		add_timed_idea = { idea = hitler_rage days = 100 }
	}
	
}
# Danish Islands transfer
country_event = {
	id = yamm.35
	title = yamm.35.t
	desc = yamm.35.desc
	picture = GFX_report_event_generic_usa_treaty
	
	fire_only_once = yes
	
	trigger = {
		tag = USA
		DEN = { 			
			controls_state = 100
			controls_state = 101 
			controls_state = 337
			has_capitulated = yes
		}
	}
	
	option = {
		name = yamm.35.a
		USA = { 
			transfer_state = 101
			transfer_state = 337
		}
		ICE = {
			transfer_state = 100
		}
		USA = {
			puppet = ICE
		}
		news_event = { hours = 6 id = yamm.36 }
	}
}
# News Event Danish Islands transfer
news_event = {
	id = yamm.36
	title = yamm.36.t
	desc = yamm.36.desc
	picture = GFX_news_event_generic_read_write
	
	major = yes
	
	is_triggered_only = yes
	
	option = {
		name = yamm.36.a
	}
}


# Fuck paradox math
country_event = {
	id = yamm.37
	title = yamm.37.t
	desc = yamm.37.desc
	picture = GFX_report_event_plan_vert
	
	hidden = yes 
	
	trigger = {
		threat > 0.90
		threat < 0.95
	}
	
	immediate = {
		add_threat = -5
	}
	
	option = {
		name = yamm.32.a
		
	}
}

# Fuck paradox math
country_event = {
	id = yamm.38
	title = yamm.38.t
	desc = yamm.38.desc
	picture = GFX_report_event_plan_vert
	
	hidden = yes 
	
	trigger = {
		threat > 0.85
		threat < 0.90
	}
	
	immediate = {
		add_threat = -4
	}
	
	option = {
		name = yamm.32.a
		
	}
}

# Fuck paradox math
country_event = {
	id = yamm.39
	title = yamm.39.t
	desc = yamm.39.desc
	picture = GFX_report_event_plan_vert
	
	hidden = yes 
	
	trigger = {
		threat > 0.95
	}
	
	immediate = {
		add_threat = -10
	}
	
	option = {
		name = yamm.32.a
		
	}
}

# Fuck paradox math
country_event = {
	id = yamm.40
	title = yamm.40.t
	desc = yamm.40.desc
	picture = GFX_report_event_plan_vert
	
	hidden = yes 
	
	trigger = {
		OR = {
			threat = 0.90
			threat = 0.95
		}
	}
	
	immediate = {
		if = {
			limit = { threat = 0.90 }
			add_threat = -5
		}
		if = {
			limit = { threat = 0.95 }
			add_threat = -10
		}
	}
	
	option = {
		name = yamm.32.a
		
	}
}